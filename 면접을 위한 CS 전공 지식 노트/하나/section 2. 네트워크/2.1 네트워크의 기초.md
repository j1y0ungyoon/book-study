# 2.1 네트워크의 기초

네트워크란 node\*와 link가 서로 연결되어 있으며 리소스를 공유하느느 집합을 의미함

\*node : 서버, 라우터, 스위치 등 네크워크 장치를 의미함

## 2.1.1 처리량과 지연 시간

**좋은 네트워크란?**

- 많은 처리량을 처리할 수 있음
- 지연 시간이 짧고 장애 빈도가 적으며 좋은 보안을 갖춘 네트워크

### 처리량(throughput)

- 링크 내에서 성공적으로 전달된 데이터의 양(얼마나 트래픽을 처리했는가)
- 단위 : bps(bits per second, 초당 전송 또는 수신되는 비트 수)
- 트래픽, 네트워크 장치 간 대역폭, 에러, 하드웨어 스펙에 영향을 받음
- 트래픽 : 특정 시점에 링크 내에 흐르는 데이터의 양(ex: 서버에 저장된 파일(문서나 이미지 등)을 클라이언트가 다운로드할 때 발생되는 데이터의 누적량)
- 대역폭 : 주어진 시간 동안 네트워크 연결을 통해 흐를 수 있는 최대 비트 수

**헷갈릴 수 있는 것**

- 트래픽이 많아짐 === 흐르는 데이터가 많아짐
- 처리량이 많아짐 === 처리되는 트래픽이 많아짐

### 지연 시간(latency)

- 요청이 처리되는 시간(어떤 두 메세지가 두 장치 사이를 왕복하는 데 걸리는 시간)
- 매체 타입(무선, 유선), 패킷 크기, 라우터의 패킷 처리 시간에 영향을 받음

## 2.1.2 네트워크 토폴로지와 병목 현상

### 네트워크 토폴로지

<img src="https://cdn.ttgtmedia.com/rms/onlineimages/6_types_of_network_topology-f.png" width="50%" height="50%">

- 노드와 링크가 어떻게 배치되어 있는지에 대한 방식이자 연결 형태를 의미함

#### 트리 토폴로지(계층형 토폴로지)

- 트리 형태로 배치한 네트워크 구성
- 노드의 추가, 삭제가 쉬움
- 특정 노드에 트래픽이 집중될 때, 하위 노드에 영향을 끼칠 수 있음

#### 버스 포톨로지

- 중앙 통신 회선 하나에 여러 개의 노드가 연결되어 공유하는 네트워크 구성
- 근거리 통신망(LAN)에서 사용함
- 설치 비용 적음, 신뢰성 우수, 중앙 통신 회선에 노드를 추가하거나 삭제하기 쉬움
- 스푸핑\*이 가능한 문제점이 있음

\*스푸핑 : LAN상에서 송신부의 패킷을 송신과 관련 없는 다른 호스트에 가지 않도록 하는 스위칭 기능을 마비 시키거나 속여서 특정 노드에 해당 패킷이 오도록 처리하는 것

예를 들면 공격자가 실제 자신의 ip주소를 숨기고 다른 컴퓨터로 속여서 공격을 하거나, 유저를 속여서 위조된 웹사이트에 로그인을 하거나 개인 정보를 입력하도록 유도 하는 것(흔히 피싱이라고 함)이 있음.

보안상 좋지 않기 때문에 스푸핑이 가능하지 않도록 해야함

#### 스타 토폴로지

- 중앙에 있는 노드에 모두 연결된 네트워크 구성
- 노드를 추가하거나 에러를 탐지하기 쉬움. 패킷 충돌 발생 가능성 적음
- 어떤 노드에 장애가 발생해도 에러를 쉽게 발견할 수 있음
- 장애 노드가 중앙 노드가 아니면 다른 노드에 영향을 끼치는 것이 적음
- 중앙 노드에 장애가 발생하면 전체 네트워크를 사용할 수 없음
- 설치 비용이 높음

#### 링형 토폴로지

- 각각의 노드가 양 옆의 두 노드와 연결하여 전체적으로 고리처럼 하나의 연속된 길을 통해 통신을 하는 망 구성 방식
- 각각의 노드는 고리 모양의 길을 통해 패킷을 처리함
- 노드의 수가 증가해도 네트워크 상의 손실이 거의 없음. 충돌이 발생되는 가능성 적음
- 노드의 고장을 쉽게 찾을 수 있음
- 네트워크 구성 변경이 어려움
- 회선에 장애가 발생하면 전체 네트워크에 영향을 크게 미침

#### 메시 포톨로지

- 그물망처럼 연결되어 있는 구조
- 하나의 단말 장치에 장애가 발생해도 여러 개의 경로가 존재함 -> 네트워크 계속 사용 가능, 트래픽 분산 처리 가능
- 노드 추가 어려움
- 구축 비용, 운영 비용 높음

### 병목 현상

**병목(bottleneck) 현상이란?**

전체 시스템의 성능이나 용량이 하나의 구성 요소로 인해 제한을 받는 현상.
병목이라는 단어에서 유추할 수 있듯이 병의 몸통보다 병의 목 부분의 지름이 좁아서 물이 상대적으로 천천히 쏟아지는 것에 비유함.

ex: 이벤트나 티켓팅을 할 때 트래픽이 많이 발생 -> 트래픽 관리 실패함 -> 병목 현상 발생 -> 사용자는 웹 사이트로 접속x
포톨로지가 병목 현상을 찾을 때 중요한 기준이 됨.

네트워크가 어떤 토폴로지를 갖는지, 어떤 경로로 이루어져 있는지 알아야 병목 현상을 올바르게 해결할 수 있음

### 2.1.3 네트워크 분류

규모를 기반으로 분류할 수 있음

- LAN(local area network)

  - 근거리 통신망을 의미함
  - 전송 속도가 빠르고 혼잡하지 않음

- MAN(metropolitan area network)

  - 대도시 지역 네트워크를 나타냄
  - 전송 속도는 평균, LAN보다는 혼잡함

- WAN(world wide network)
  - 광역 네트워크를 의미함
  - 전송 속도는 낮음, MAN보다 혼잡함

### 2.1.4 네트워크 성능 분석 명령어

네트워크 병목 현상의 주된 원인

- 네트워크 대역폭
- 네트워크 토폴로지
- 서버 CPU, 메모리 사용량
- 비효율적인 네트워크 구성

네트워크 관련 테스트와 네트워크와 무관한 테스트를 통해 네트워크로부터 발생하는 문제점인 것을 확인 후에 네트워크 성능을 분석해야함. 이때 사용되는 명령어는 다음과 같음

- ping

  - ping IP주소 또는 도메인 주소 로 실행함
  - 네트워크 상태를 확인하려는 대상 노드를 향해 일정 크기의 패킷을 전송하는 명령어
  - 이 명령어를 통해 해당 노드의 패킷 수신 상태와 도달하기까지 시간 등을 알 수 있고, 해당 노드까지 네트워크가 잘 연결되어있는지 확인할 수 있음
  - ICMP 프로토콜을 통해 동작하기 때문에 해당 프로토콜을 지원하지 않거나 네트워크 정책상 ICMP나 traceroute를 차단하는 경우는 ping 테스트가 불가능함

- netstat

  - 접속되어 있는 서비스들의 네트워크 상태를 표시함(주로 서비스의 포트가 열렸는지 확인할 때 사용)
  - 네트워크 접속, 라우팅 레이블, 네트워크 프로토콜 등 리스트를 보여줌

- nslookup

  - DNS에 관련된 내용을 확인하기 위해 사용하는 명령어
  - 특정 도메인에 매핑된 IP를 확인하기 위해 사용함

- tracert
  - 윈도우 : tracert, 리눅스 : traceroute
  - 목적지 노드까지 네트워크 경로를 확인할 때 사용하는 명령어
  - 목적지 노드까지 구간들 중 어느 구간에서 응답이 느려지는지 등을 확인할 수 있음

### 2.1.5 네트워크 프로토콜 표준화

**네트워크 프로토콜이란?**

다른 장치들끼리 데이터를 주고받기 위해 설정된 공통된 인터페이스를 말함. 이런 프로토콜은 IEEE 또는 IETF라는 표준화 단체가 이를 정함
